(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{1491:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies",function(){return r(8015)}])},6275:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(5893),s=r(1163),l=r(5538),i=r(5182);let n=e=>{let{movie:t}=e,r=(0,s.useRouter)();return(0,a.jsxs)("div",{className:"flex flex-col group cursor-pointer",onClick:()=>r.push(`/movie/${t.id}`),children:[(0,a.jsxs)("div",{className:"relative aspect-[2/3] overflow-hidden rounded-xl shadow-md transition-all duration-500  hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-2",children:[t.poster_path?(0,a.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:t.title,className:"w-full object-cover brightness-95 group-hover:brightness-105  transition-all duration-500 scale-100 group-hover:scale-110",loading:"lazy"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl text-white/30",children:"\uD83C\uDFAC"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/80 via-transparent to-transparent  opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsx)(l.Z,{movie:t})})]}),(0,a.jsxs)("div",{className:"mt-4 px-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"flex-1 font-semibold text-lg leading-tight line-clamp-1  group-hover:text-purple-600 transition-colors duration-300",children:t.title}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(i.Z,{id:t.id,type:"movie"})})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500 font-medium transform origin-left  group-hover:scale-105 transition-transform duration-300 block mt-1",children:new Date(t.release_date).getFullYear()})]})]})}},8015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5893),s=r(7294),l=r(1163),i=r(5818),n=r(6275),o=r(6517),c=r(6288);let d=()=>{let e=(0,l.useRouter)(),[t,r]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)([]),[g,p]=(0,s.useState)(1),[x,v]=(0,s.useState)(0),[f,j]=(0,s.useState)(!1),[b,w]=(0,s.useState)(()=>{{let e=localStorage.getItem("selectedGenre");return e?parseInt(e):null}}),[y,N]=(0,s.useState)(()=>{{let e=localStorage.getItem("selectedYear");return e?parseInt(e):null}});(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR"),t=await e.json();h(t.genres)}catch(e){console.error("Erreur:",e)}})()},[]);let S=(0,s.useCallback)(async e=>{if(!g)return;let t=1===g;t?u(!0):j(!0);try{let a=y?`&primary_release_year=${y}`:"",s=`https://api.themoviedb.org/3/discover/movie?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR&include_adult=false${a}${e?`&with_genres=${e}`:""}&page=${g}`,l=await fetch(s),i=await l.json();r(e=>t?i.results:[...e,...i.results]),v(i.total_pages)}catch(e){console.error("Erreur:",e)}finally{u(!1),j(!1)}},[g,y]);(0,s.useEffect)(()=>{S(b||void 0)},[b,S]);let _=e=>{r([]),p(1),w(e),e?localStorage.setItem("selectedGenre",e.toString()):localStorage.removeItem("selectedGenre")},k=e=>{r([]),p(1),N(e),e?localStorage.setItem("selectedYear",e.toString()):localStorage.removeItem("selectedYear")},C=async(e,t)=>{r([]),p(1);try{let a=await fetch(`https://api.themoviedb.org/3/search/${t}?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR&query=${e}`),s=await a.json();r(s.results)}catch(e){console.error("Erreur:",e)}};return(0,s.useEffect)(()=>{let t=t=>{e.pathname.startsWith("/movies")&&t.match(/^\/movie\/\d+/)||(localStorage.removeItem("selectedGenre"),localStorage.removeItem("selectedYear"))};return e.events.on("routeChangeStart",t),()=>{e.events.off("routeChangeStart",t)}},[e.events,e.pathname]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"Films",description:"D\xe9couvrez notre catalogue complet de films",image:"/movie-icon.png"}),(0,a.jsx)("main",{children:(0,a.jsxs)("div",{className:"container mx-auto mt-20",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("h1",{className:"relative inline-block",children:[(0,a.jsx)("span",{className:"text-5xl md:text-6xl lg:text-7xl font-black text-transparent bg-clip-text  bg-gradient-to-r from-purple-500 via-pink-400 to-purple-500  animate-gradient-x tracking-tight leading-tight",children:"Films"}),(0,a.jsx)("span",{className:"absolute -bottom-4 left-0 right-0 h-1  bg-gradient-to-r from-purple-500 via-pink-400 to-purple-500  rounded-full blur-sm opacity-80"})]}),(0,a.jsx)("p",{className:"mt-8 text-lg text-gray-300 max-w-2xl mx-auto",children:"Explorez notre s\xe9lection de films et trouvez votre prochaine aventure cin\xe9matographique"})]}),(0,a.jsxs)("div",{className:"mb-8 py-4",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(c.Z,{onSearch:e=>C(e,"movie")})}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)("select",{value:b||"",onChange:e=>_(e.target.value?parseInt(e.target.value):null),className:`px-4 py-2 rounded-xl bg-white/10 text-white ${b?"btn-gradient":""}`,children:[(0,a.jsx)("option",{value:"",children:"Tous les genres"}),m.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)("select",{value:y||"",onChange:e=>k(e.target.value?parseInt(e.target.value):null),className:`px-4 py-2 rounded-xl bg-white/10 text-white ${y?"btn-gradient":""}`,children:[(0,a.jsx)("option",{value:"",children:"Toutes les ann\xe9es"}),Array.from({length:150},(e,t)=>2024-t).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(b||y)&&(0,a.jsxs)("button",{onClick:()=>{r([]),p(1),w(null),N(null),localStorage.removeItem("selectedGenre"),localStorage.removeItem("selectedYear")},className:"px-4 py-2 rounded-xl bg-white/5 text-white/80 hover:bg-white/10  transition-all duration-300 ease-in-out border border-white/10 hover:border-white/20 flex items-center gap-2 hover:scale-105",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"R\xe9initialiser"]})]})]}),d?(0,a.jsx)(o.Z,{}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map(e=>(0,a.jsx)(n.Z,{movie:e},e.id))}),!d&&!f&&g<x&&t.length>0&&(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)("button",{onClick:()=>{g<x&&p(e=>e+1)},className:"px-6 py-3 rounded-xl btn-gradient hover:opacity-90 transition-opacity w-full",children:"Charger plus de films"})}),!d&&0===t.length&&(0,a.jsx)("div",{className:"text-center mt-8 text-gray-400",children:"Aucun film trouv\xe9 pour ces crit\xe8res"})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,279,888,774,179],()=>t(1491)),_N_E=e.O()}]);