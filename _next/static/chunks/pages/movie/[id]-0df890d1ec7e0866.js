(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937],{3747:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[id]",function(){return t(1538)}])},1538:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var i=t(5893),a=t(7294),r=t(1163),l=t(6517),n=t(5538),c=t(5818),d=t(9221),o=t(8848),m=t(5182),x=t(1262),h=t(4406);function u(){let[e,s]=(0,a.useState)(null),[t,u]=(0,a.useState)(!0),p=(0,r.useRouter)(),{id:g}=p.query;(0,a.useEffect)(()=>{g&&(u(!0),Promise.all([fetch(`https://api.themoviedb.org/3/movie/${g}?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR`),fetch(`https://api.themoviedb.org/3/movie/${g}/videos?api_key=06147451e7c17d517c6735e3437be181`),fetch(`https://api.themoviedb.org/3/movie/${g}/credits?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR`),fetch(`https://api.themoviedb.org/3/movie/${g}/recommendations?api_key=06147451e7c17d517c6735e3437be181&language=fr-FR`)]).then(e=>{let[s,t,i,a]=e;return Promise.all([s.json(),t.json(),i.json(),a.json()])}).then(e=>{let[t,i,a,r]=e;s({...t,videos:i,credits:a,recommendations:r}),u(!1)}).catch(e=>{console.error("Erreur lors du chargement des donn\xe9es :",e),u(!1)}))},[g]);let b=e?.videos?.results.find(e=>"Trailer"===e.type&&"YouTube"===e.site);return t?(0,i.jsx)(l.Z,{}):e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{title:e.title,description:e.overview,image:`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`}),(0,i.jsxs)("main",{className:"relative min-h-screen",children:[(0,i.jsx)("div",{className:"fixed inset-0",children:(0,i.jsxs)("div",{className:"absolute inset-0 w-screen h-screen",children:[(0,i.jsx)("img",{src:`https://image.tmdb.org/t/p/original${e.backdrop_path}`,alt:"",className:"w-full h-full object-cover animate-fade-in"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"}),(0,i.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.8) 100%)"}})]})}),(0,i.jsx)("div",{className:"relative z-10 container mx-auto px-12 py-36",children:(0,i.jsxs)("div",{className:"bg-black/40 backdrop-blur-sm rounded-3xl p-8 lg:p-12 shadow-xl border border-white/10",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 mb-12",children:[(0,i.jsx)("div",{className:"w-full md:w-80 flex-shrink-0",children:e.poster_path?(0,i.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,className:"w-full rounded-2xl shadow-2xl hover:scale-105 transition-transform duration-300"}):(0,i.jsx)("div",{className:"w-full h-full rounded-2xl bg-gray-800 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-4xl text-white/30",children:"\uD83C\uDFAC"})})}),(0,i.jsxs)("div",{className:"flex-1 text-white",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,i.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:e.title}),(0,i.jsx)(x.Z,{url:`${h.env.NEXT_PUBLIC_BASE_URL}/movie/${e.id}`,title:e.title})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-lg mb-8",children:[(0,i.jsx)(n.Z,{movie:e}),(0,i.jsx)(m.Z,{id:e.id,type:"movie"}),(0,i.jsx)("span",{children:new Date(e.release_date).getFullYear()}),(0,i.jsxs)("span",{children:[Math.floor(e.runtime/60),"h ",e.runtime%60,"min"]})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-3 mb-8",children:e.genres.map(e=>(0,i.jsx)("span",{className:"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",children:e.name},e.id))}),(0,i.jsx)(o.Z,{title:e.title,fallbackDescription:e.overview,type:"movie"}),e.credits.crew.filter(e=>["Director","Producer","Screenplay"].includes(e.job)).length>0&&(0,i.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6 mt-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-3",children:"R\xe9alisation"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-x-6 gap-y-2",children:e.credits.crew.filter(e=>["Director","Producer","Screenplay"].includes(e.job)).map(e=>(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl text-gray-300 cursor-pointer hover:text-white transition-colors",onClick:()=>p.push(`/artist/${e.id}`),children:[(0,i.jsx)("span",{className:"text-white font-medium",children:e.name}),(0,i.jsxs)("span",{className:"text-gray-400 ml-2",children:["(","Director"===e.job?"R\xe9alisateur":"Producer"===e.job?"Producteur":"Screenplay"===e.job?"Sc\xe9nariste":e.job,")"]})]},e.id))})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b&&(0,i.jsx)("div",{className:"lg:col-span-2 bg-white/5 rounded-2xl overflow-hidden",children:(0,i.jsx)("div",{className:"aspect-video",children:(0,i.jsx)("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${b.key}`,title:"Bande-annonce",className:"w-full h-full",allowFullScreen:!0})})}),(0,i.jsx)("div",{className:`space-y-6 ${b?"":"w-full"}`,children:(0,i.jsxs)("div",{className:"bg-white/5 rounded-2xl p-6 backdrop-blur-sm border border-white/10",children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold text-white mb-6",children:"Informations"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl",children:[(0,i.jsx)("div",{className:"text-gray-400 text-sm",children:"Budget"}),(0,i.jsx)("div",{className:"text-white text-xl font-medium",children:e.budget>0?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0,notation:"compact",compactDisplay:"long"}).format(e.budget):"Non communiqu\xe9"})]}),(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl",children:[(0,i.jsx)("div",{className:"text-gray-400 text-sm",children:"Recettes"}),(0,i.jsx)("div",{className:"text-white text-xl font-medium",children:e.revenue>0?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0,notation:"compact",compactDisplay:"long"}).format(e.revenue):"Non communiqu\xe9"})]})]}),e.budget>0&&e.revenue>0&&(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl",children:[(0,i.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:"Rentabilit\xe9"}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("div",{className:`text-xl font-medium ${e.revenue>e.budget?"text-green-400":"text-red-400"}`,children:[((e.revenue-e.budget)/e.budget*100).toFixed(0),"%"]}),(0,i.jsxs)("span",{className:"text-gray-400",children:["(",e.revenue>e.budget?"B\xe9n\xe9fice":"Perte",")"]})]})]}),(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl",children:[(0,i.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:"Date de sortie"}),(0,i.jsx)("div",{className:"text-white",children:new Date(e.release_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),(0,i.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl",children:[(0,i.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:"Statut"}),(0,i.jsx)("div",{className:"inline-flex px-3 py-1 rounded-full bg-green-500/20 text-green-400",children:"Sorti en salles"})]})]})]})})]}),(0,i.jsx)(d.Z,{title:"Distribution",items:e.credits.cast,type:"person"}),(0,i.jsx)(d.Z,{title:"Recommandations",items:e.recommendations.results,type:"movie"})]})})]})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[945,888,774,179],()=>s(3747)),_N_E=e.O()}]);